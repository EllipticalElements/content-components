<link rel="import" href="../elliptical-polymer-behaviors/component-behavior.html">

<script>

  //Content Behavior
  Elliptical.ContentBehavior = {};
  Elliptical.ContentBehavior.properties = {
    placeholderSelector: {
      type: String,
      value: '[content-placeholder]'
    },

    id:{
      type:String,
      value:null
    },

    dataId:{
      type:String,
      value:null
    },

    _isEditMode:{
      type:Boolean,
      value:false
    },

    _utils:{
      type:Object,
      value:null
    }

  };

  Elliptical.ContentBehavior._contentReady=function(){
    var self=this;
    var selector=this.placeholderSelector;
    var placeholder=document.querySelector(selector);
    if(placeholder) this._isEditMode= placeholder.classList.contains('edit-mode');
    this._utils=elliptical.utils;
  };

  Elliptical.ContentBehavior.showComponent=function(){
    this._isEditMode=true;
    this._onContentComponentShow();
  };

  Elliptical.ContentBehavior.hideComponent=function(){
    this._isEditMode=false;
    this._onContentComponentHide();
  };

  Elliptical.ContentBehavior._onEditClick=function(){};

  Elliptical.ContentBehavior._onContentComponentShow=function(){};

  Elliptical.ContentBehavior._onContentComponentHide=function(){};

  Elliptical.ContentBehavior._onContentComponentSet=function(content){};

  Elliptical.ContentBehavior._setComponentId=function(content){
    if(!this.id) {
      var id=this.dataset.id;
      if(id) this.id=id;
      else{
        this.id='content-' + this._utils.random.id(6);
      }
    }
  };

  Elliptical.ContentBehavior.setContent=function(content){
    this._onContentComponentSet(content);
  };

  Elliptical.ContentBehavior.getContent=function(){
    return null;
  };

  Elliptical.ContentBehavior.editAction=function(){
    this._onEditClick();
  };

</script>